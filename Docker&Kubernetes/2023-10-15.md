# Target 설정

- PHP에서 가장인기있는 라라벨을 세팅하면서 도커에 대해 공부해보자.
  - 우선 PHP설치가 필요한데 이미 이것부터 문제이다. NodeJS의 경우 애플리케이션 코드와 서버 로직 모두를 NodeJS로 작성된 하나의 조각으로 가지고있다. 그러므로 NodeJS만 설치했으면 됐었다.
- Lararvel은 PHP만 설치하는것으론 충분치않다. PHP로 서버자체를 구축할수없으므로 서버가 필요. 이모든것을 설정하는건 상당히 번거로운데 도커를 사용하는 좋은 예이다.

# 아이디어

- Laravel PHP 애플리케이션의 소스 코드가 포함된 어떤 폴더가 호스트 머신에 있다.
- 그것은 우리가 선택한 Lararvel 코드를 작성할수있는 편집기를 사용하여 로컬 머신에서 열 수 있는 폴더.
- 이 소스 코드 폴더는 PHP 인터프리터 컨테이너라는 하나의 컨테이너에 노출
- 그 컨테이너는 내부에 PHP가 설치되어있다. 그리고 그것은 우리의 소스코드에 접근 할 수 있는 컨테이너 이 소스 코드를 해석하고 들어오는 요청에 대한 응답 생성 가능
- 이 PHP인터프리터 외에 다음 빌딩 블록, 코드를 실행하는데 필요한 부가 서버도 필요
- 그렇기때문에 두번째 컨테이너를 가짐 Nginx 웹 서버가 들어가있고, 이 웹서버는 위의 컨테이너와 기본적으로 들어오는 요청을 받은 다음 PHP 인터프리터로 이동해서 PhP인터프리터가 응답을 생성하여 요청을 전송한 클라이언트에게 그 응답을 돌려줘야함
- 데이터 저장을 위해 MYSQL데이터베이스 추가

- 함께 작동할 각각 분리된 세개의 컨테이너는 애플리케이션 컨테이너이다. 유틸리티 기능으로 사용하지않을것이고 애플리케이션이 실행되는 동안 계속 실행됨

- 이 세가지 애플리케이션 컨테이너외에도 우리의 설정에는 몇가지 유틸리티 컨테이너가 필요하다.
- Laravel 애플리케이션에는 세가지 종류의 도구이자 유틸리티가 있다는것이 밝혀졌다.
- Composer(Node에서 npm과 비슷함)
- Laravel Artisan (데이터베이스에 대해 마이그레이션을 실행, 초기 시작 데이터를 데이터베이스에 쓰는데 사용하는 명령)
- 마지막으로 npm 필요

**따라서 전체적으로 우리는 소스 코드와 함께 동작하는 6개의 컨테이너를 갖게된다.**
