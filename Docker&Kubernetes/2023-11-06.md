# 관리되는 컨테이너를 업데이트하기

- ecs를 통해 배포한 컨테이너는 어떻게 업데이트 할 수있을까?
  1. 소스 코드에서 아무거나 수정
  2. docker build 명령을 실행하여 이미지 빌드
  3. 빌드후에는 다시 태그를 지정하여 리포지터리 이미지를 로컬에서 업데이트 된 이미지로 교체(docker tag)
  4. 클러스터로 이동해서 태스크 탭을 눌러 실행중인 태스크를 클릭
  5. 새로운 태스크를 생성
  6. 같은 태스크를 다시 만든다 그러면 AWS ECS가 업데이트 된 이미지를 자동으로 가져옴
     - 즉 새 테스크를 만들어 구동하고 그 태스크에서 서비스를 사용하면 AWS는 최신 이미지 버전을 사용
  7. 이전과 동일한 설정을 기반으로 새 테스크 개정판 생성 액션에서 업데이트 서비스를 클릭
  8. Public IP가 이전과 다를것이다. AWS는 구동되는 모든 새 테스크, 구동되는 모든 새 테스크 개정판에 대해 새로운것을 생성하고 할당 하지만 AWS에서 할당한 특정 IP와는 별도로 일반적으로 실행중인 ECS태스크에 도메인을 연결하는 방법도 있다.
