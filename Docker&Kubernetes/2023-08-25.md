# 컨테이너와 이미지에 이름 지정 & 태그 지정하기

- 지금까지 이미지를 리스팅할때 항상 이미지의 ID를 이용했었다. 사실 이미지에는 태그를 지정할수있다. 컨테이너도 매우 유사한데, 컨테이너 실행시 자동으로 생성된 이름이 있는걸 확인할수있다. 없는것보단 낫지만 수동으로 찾아 매번 복사해야할것이다.
  그걸 잊어버리거나, 입력하기 상당히 길고 헷갈리기때문에 컨테이너에 고유 이름을 지정할 수 있으며, 이미지에 고유한 태그를 추가 할 수도 있다. 컨테이너를 아래의 명령어로 실행해보자

  ```
  docker run -p 3000:80 -d --rm --name 컨테이너명 이미지ID
  ```

  이렇게 실행하게되면 컨테이너 중지시 자동제거와 detached모드 그리고 3000번 포트로 연결하고 컨테이너를 리스팅하면 컨테이너는 커스텀 이름을 가지고 있다. 우리가 지은 이름이기때문에 기억하고 있을거고 매번 docker ps로 리스팅 할 필요가 없어진다.
  이번엔 이미지도 한번 해보자

  ```
  docker build .
  ```

  ## 이미지 태그는 두 부분으로 구성된다.

- name:tag

  1. name

  - 이미지의 리포지터리라고도 한다.

  2. tag

  - 콜론으로 구분된다.

- 이름을 사용하여 이미지의 일반적인 이름을 설정할수있고, 정확히 말하면 **여러개의 특정화된 이미지 그룹을 만들 수 있다.** 예를 들면 우리가 가져온 노드 이미지는 태그도 가지고있는데 그것은 옵션이다. 그 이미지의 보다 특정화된 버전을 정의할수있다.
  node:14 노드의 경우로 Dockerfile에서 보자면

```
FROM node // 이렇게 가져올 필요가 없다.
FROM node:14 or 12이렇게 콜론을 붙힌후 버전을 명시해오면 해당 버전을 원한다고 할 수 있다.
```

이렇게 태그를 사용하여 노드의 경우에는 특정 버전, 특정 구성을 할 수 있다. 우리의 자체 이미지에도 마찬가지로 똑같이 할 수 있다. 하지만 그 이미지의 다른 버전이나 다른 구성이 있는 경우라면, 이름을 태그와 결합 할수있다. 그리고 이걸 결합하게되면 이미지에 특정화된 버전에 대한 고유 식별자를 언제나 가지게 된다. 그 이름만으로도 이미 고유 식별자이다. 이미지를 빌드할때 이를할수잇는데 아래의 명령어를 실행해보자

```
docker build -t goals:latest .
```

이렇게 한 후 이미지를 리스팅해보면 goals라는 이름 또는 리포지터리가 있고, 태그는 latest이다. (태그된 이미지를 포함하여 모든 이미지를 삭제하고싶다면 docker image prune -a) 약간 달라진 Dockerfile로 다시 빌드해야한다고 치면

```
docker build -t goals:2 . or docker build -t goals:whatever .
```

이것이 바로 유연성이며, 이미지의 이름을 지정하는 방법이다. 이제 그 이미지를 기반으로 앱을 실행하기 위해 그 이미지의ID뿐 아니라 태그를 사용할수 있다.

```
docker run -p 3000:80 -d --rm --name goalsapp goals:latest
```

이미지 ID 대신 그 태그를 넣은 명령어이다. 이제 해당 이미지를 기반으로 하는 컨테이너가 태그를 가지고 제공된 이름과 태그조합으로 실행된다.
**태그를 이용하면 주어진 이미지의 보다 특정화된 다양한 버전을 가질수있다.**
