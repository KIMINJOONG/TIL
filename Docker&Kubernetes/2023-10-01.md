# Docker-Compose: 무엇이며 왜 사용하는가?

## 도커란?

- 'docker build'와 'docker run'명령을 대체할수 있는 도구.
- 하나의 'docker build'명령이나 하나의 'docker run'이 아닌 다수의 명령을 단 하나의 구성 파일로 가진다.
- 모든 서비스 , 모든 컨테이너를 즉시 시작하고 필요하다면 모든 필요한 이미지를 빌드하는 오케스트레이션 명령 셋이다. 하나의 명령을 사용하여 모든것을 중지하고, 모든것을 중단 가능
- 도커 컴포즈로 누구와도 공유할수있는 명확히 정의된 언어를 사용하는 구성파일이기때문에 이 구성파일을 활용한 단 하나의 명령으로 전체 다중 컨테이너 애플리케이션을 시작하거나 중단 가능하다.
- 참고로 단일어플리케이션도 가능 그러나 컨테이너가 여러개인경우에 가장 유용.

## 도커 컴포즈가 아닌것

- 도커 컴포즈는 커스텀 이미지를 위한 Dockerfile을 대체하지않는다.(Dockerfile과 함께 작동, 대체하는것이 아님)
- 이미지나 컨테이너를 대체하지않는다. 그것들과 함께 작업하는것을 쉽게 만들며 컨테이너를 더 쉽게 시작할수있게한다.
- 도커 컴포즈는 다수의 호스트에서 다중 컨테이너를 관리하는데는 적합하지 않다. 즉 하나의 동일한 호스트에서 다중 컨테이너를 관리하는데 아주 좋다.

## 도커 컴포즈파일 쓰기

- 항상 도커 컴포즈 파일을 작성으로 시작(터미널 명령을 실행하는게 아님, 시간절약 목표)
- 핵심사항
  - 멀티컨테이너 애플리케이션을 구성하는 핵심 구성요소 정의
    - 컴포즈 파일에서 정의할수있고 정의해야하는 핵심이자 가장 중요한 요소항목은 서비스! 이는 결국 다중 컨테이너 애플리케이션을 구성하는 컨테이너!

### Service(실제론 컨테이너를 의미)

- 모든 서비스 아래에서 해당 서비스를 구성가능
- 게시해야하는 포트를 정의
- 컨테이너에 필요한 환경변수 설정가능
- 컨테이너에 할당해야하는 볼륨 정의 가능
- 네트워크 할당 가능
- 기본적으로 터미널에서 도커 명령으로 할 수 있는 모든것을 도커 컴포즈에서 할 수 있다.
