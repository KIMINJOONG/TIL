# 컨테이너에서 명령을 실행하는 다양한 방법

- docker run node를 실행시키면 시작되자마자 즉시 중지된다. 왜냐면 이것은 인터렉티브 모드에서 시작해야하는 이미지이기 때문. 그래야 우리로 부터 입력받기를 기다림
- 인터렉티브 모드로 실행하면 몇몇 명령어를 입력할수있다.
- node 컨테이너를 인터렉티브 모드와 detached 모드로 실행해보자. 즉, 명령을 입력할순없지만 내부적으로 이 컨테이너는 여전히 입력을 기다리고 있으므로 계속 실행됌
- docker exec 명령을 사용하면 실행하는 기본 명령 외에 실행중인 컨테이너 내에서 특정 명령을 실행할수있다.
- 따라서 Dockerfile에 지정되어 있는 명령 외에 입력된 특정 명령을 실행.
- 애플리케이션은 실행되는 상태에서 컨테이너 내에 추가적인 명령을 실행 할 수 있다.
- 그리고 실행 중인 노드 컨테이너에 노드 프로젝트를 생성하는 npm init을 실행해보자.

```
docker exec 컨테이너명 npm init
```

- 하지만 즉시 끝날것이다. exec도 run과 마찬가지로 인터렉티브 모드에서 시작되어야만 한다. 여기서 구동하여 그 프로세스에 계속 연결되고 입력을 제공하도록 하기위해서는!
- 따라서 exec에 it플래그를 추가하여 npm init을 실행해보자.

```
docker exec -it 컨테이너명 npm init
```

- 이것은 시스템에 node나 npm을 설치하지 않고도 이 명령을 실행 할 수 있다는것을 의미
- 그러나 유용하지는 않다. 그 컨테이너에 프로젝트가 있다면 여기서 프로젝트를 생성 할 수 있지만 그 프로젝트엔 접근 할 수 없기때문
- 실행중인 컨테이너에서도 프로젝트를 설치할 수 있다는걸 보여주는 예제
- 컨테이너 중지
- 컨테이너 다시 시작 but 다르게 시작
- docker exec로 컨테이너가 시작 될 때 시작되는 디폴트 명령을 중단하지 않고 실행중인 컨테이너에서 명령을 실행 할 수 있다. 하지만 디폴트 명령을 오버라이드 할 수 있음.
- node컨테이너를 시작할대 컨테이너에서 실행되는 디폴트 명령은 node 실행파일 그 자체.
- 이미지 이름뒤에 새 명령을 추가하여 디폴트 명령 오버라이드가 가능하다. npm init을 지정하여 디폴트 명령을 오버라이드 하자. 그러면 인터렉티브 입력 node코드 모드 대신 npm init을 실행

```
docker run -it node npm init
```

- 현재로서 이것은 전혀 유용하지않다. 그러나 알아두도록하자.
- 예를들면, docker exec는 메인 프로세스를 중단하지 않고 컨테이너 내부에 작성된 로그 파일을 읽는데 유용.
