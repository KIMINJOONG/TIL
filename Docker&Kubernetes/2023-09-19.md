# 호스트 통신작업을 위한 컨테이너 만들기

### HTTP 요청을 외부 API로 보내는것은 동작한다. 그러나 로컬호스트 머신에서 실행되는 서버나 서비스는 어떨까?

- 도커화된 애플리케이션, 즉 도커화된 컨테이너의 코드와 로컬 호스트 머신과의 통신을 위해 코드를 변경해보자.

```
'mongodb://localhost:27017/swfavorites'

--> 'mongodb://host.docker.internal:27017/swfavorites',
```

- host.docker.internal은 도커에 의해 인식되는 특수 도메인이다. 그리고 도커 컨테이너 내부에서 알수있는 호스트 머신의 IP주소로 변환된다. 도메인이 필요한곳, URL이 필요한곳 어디에서나 사용가능. http요청도 가능하다

- 가장 좋은점은 이 특수 도메인을 사용하면 나머지는 알아서 도커가 처리한다. 따라서 이작업을 수행하게 하려면 이미지를 리빌드해야한다 리빌드후 해당 이미지를 기반으로 컨테이너를 실행해보자.

- 도커화된 앱에서 호스트 시스템으로의 두번째 통신타입. 즉, 컨테이너에서 호스트 머신으로. 이것은 작동하지만 host.docker.internal을 URL, 즉 도메인으로 사용해야한다.
