# 공유 이미지 가져오기(pull) & 사용하기

```
docker image prune -a
```

로 우선 모든 이미지를 삭제해보자.

```
docker pull  ijboym216/node-hello-world
```

를 하면 다운받아지는것을 볼수있다. 이건 공개되어 있는 저장소이므로 로그아웃을 하든 로그인을 하든 가져 올수가있다.

```
docker run ijboym216/node-hello-world
docker run -p 8000:3000 --rm ijboym216/node-hello-world
```

반드시 ijboym216/을 포함한 풀네임을 적어야한다는걸 잊지말자.

## 원격이미지 풀링 및 실행에 대한 중요 참고사항

- 'docker pull' 명령을 실행하면 **항상 컨테이너 레지스트리에서 그 이름의 최신 이미지를 가져온다.** <u>그동안 이미지를 다시 빌드하고, 업데이트된 이미지를 레지스트리에 푸시했다면 다음 docker pull의 경우 최신 이미지를 가져올것이다.</u> docker pull을 먼저하지않고 docker run을 하자. 그러면 **로컬 컴퓨터에서 이미지를 찾지못하면 이미지 이름이 사용한 컨테이너 히스토리에 자동으로 접근한다.** 그래서 이 경우 Docker Hub이기에 거기에서 이미지를 확인하고 해당 이름의 이미지를 찾으면 그 이미지를 사용하여 자동으로 풀링한다. 업데이트를 위해 자동으로 체크한다는것이 아주 중요하다. 이전에 풀링해 실행했거나, 실행했기에 이미지가 로컬에 있는경우 이미지를 기반으로 컨테이너를 다시 실행하면 'docker run'은 그 이미지의 최신 버전이 로컬 시스템에 있는지 체크하지 않는다. 따라서 그동안 이미지를 업데이트하여 Docker Hub에 푸시했다면 docker run 만으로는 최신 업데이트 이미지를 제공받지못한다. 최신 이미지를 받기 위해서는 수동으로 docker pull과 이미지 이름을 입력하여 실행해야함 그런 다음 'docker run'으로 다시 실행. 'docker run' 은 로컬 시스템에 찾는 이미지가 없다면 히스토리를 검색해 자동으로 이미지를 풀링하지만 로컬 시스템이 찾는 이미지가 있다면 그게 최신 버전인지 아닌지 상관없이 풀링하지 않고 그걸 사용한다.
