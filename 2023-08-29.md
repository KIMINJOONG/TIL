# 데이터 카테고리/다양한 종류의 데이터 이해하기

## Data?

- 우리의 소스코드와 애플리케이션이 실행되는 환경이 있는 애플리케이션이 있다. 코드는 우리가 작성한것이고 package.json 파일에 지정된 종속성 같은 일부 써드파티 패키지를 사용할수도 있다. 그러나 전반적으로는 우리가 설정하고 작성한 코드 패키지를 갖게 된다. 이제 이 코드와 전체 환경이 빌드 단계에서 이미지에 추가된다. 즉 이미지를 빌드할때 코드가 이미지에 복사되고 이러한 명령을 설정하기 위해 Dockerfile을 사용했다. 즉, 이들 데이터, 소스 코드 및 이와 관련된 모든것을 이미지에 복사하면 더 이상 변경 할 수 없다. **이미지는 읽기 전용이기때문에** 실행중인 애플리케이션은 소스 코드 편집을 해서는 안된다. 이것이 우리가 지난수업에 자세히 다룬 종류의 데이터이다. 이에 더불어 두가지 다른종류의 데이터가 있는데 예를 들어,

1. 임시 애플리케이션 데이터가 있다.

- 이건 우리의 소스 코드를 의미하는것이 아니라 애플리케이션이 실행되는 동안 생성된 데이터를 의미 예를들어, 웹사이트의 경우 사용자가 입력폼에 무언가를 입력 할수 있으며 그런다음 우리는 그 데이터를 가져와 서버에서 실행중인 컨테이너로 처리하는데 입력된 그 사용자 데이터가 임시 데이터 입니다. 코드의 변수에 저장 할 수 있으므로 결국 메모리에만 저장되거나, 혹은 데이터베이스 or 파일에 저장될수있다. 하지만 컨테이너가 종료될때 그 데이터를 잃어도 상관없다. 장기관 보관해야하는 데이터가 아니기때문에 그래서 이것은 읽기전용이 아닌 데이터가 될것이다. 우리는 애플리케이션이 실행될동안 실제로 쓰기를 원하지만 일시적이다. 임시데이터는 read-write이기때문에 이미지가 아닌 컨테이너에 저장된다. 그리고 이미지가 아닌 컨테이너에 저장된다는 것은 부가(Extra)레이어에 대해 이야기하는건데, 이미지 위에 도커에 의해 추가된 것이다. 이 레이어는 실제로 그 컨테이너를 구성하고 기본적으로 로직이라 할수있는데, 이미지를 인식하고 이미지의 파일 시스템을 인식하며 복사하지않고 파일시스템을 미러링하는 로직, 그러나 이런 부가적 사항이고 실제로 도커는 read-write 액세스 권한을 가지며 파일의 시스템을 조작할수 있다. 이미지에서 변경하지 않으며, 부가 레이어에서 변경 도커는 컨테이너의 변경사항을 추적하고, 이미지의 파일 시스템을 가져와 최종 파일 시스템을 파생시켜 read-write레이어에 저장된 변경사항과 결합. 컨테이너에 저장하라고하면, 컨테이너는 이 정보를 저장하며, 파일이 무엇이든간에 이 read-write레이어에 저장하거나, read-write 레이어의 도움을 받아 저장한다. 하지만 그것은 모두 컨테이너안에 있고 우리의 로컬 파일 시스템, 로컬 머신엔 없고 이미지에도 없다. 우리는 실제로 컨테이너 내부에 데이터를 쓰려고 시도해보지 않았다. 우리는 거기에서 파일을 생성하고 컨테이너 파일 시스템에 저장하려고 시도하지 않았다.

2. 영구 애플리케이션 데이터
   - 예를 들어 한 애플리케이션이 있는데 사용자가 등록하면, 자신을 잠그는 앱. 이들 사용자 계정을 받아서, 파일에 저장하거나 일반적인 데이터베이스에 저장. 데이터는 지속되어야하고 실행중인 컨테이너에서 그 데이터를 가져와 생성. 따라서 실행중인 애플리케이션 내의 데이터는 저장되어야한다. 컨테이너가 중지되고 다시 시작되더라도 데이터는 그대로 있어야하기때문이다. 즉, **컨테이너가 종료될때 손실되지 않아야하는 데이터가 존재한다** 영구 앱 데이터는 read-write 데이터 애플리케이션 실행되는 동안 작성하지만, 영구적으로 저장되어야한다. 우리는 컨테이너에 저장하지만, 볼륨의 도움을 받게 된다. **볼륨은 핵심 개념중하나이다. 도커에 적용된 핵심개념!**
